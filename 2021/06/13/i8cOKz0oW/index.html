<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"bookandmusic.cn","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"ZMZD8LN6JF","apiKey":"c75e305c22fd4cf56b8f03aa6efec207","indexName":"blog","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="网络的最重要的一个作用就是实现文件的一个传输共享，本文将要介绍的是可以在Linux终端上使用的文件传输命令，利用这些工具可以在网络中方便的实现共享文件。">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux网络传输命令">
<meta property="og:url" content="https://bookandmusic.cn/2021/06/13/i8cOKz0oW/index.html">
<meta property="og:site_name" content="Bookandmusic">
<meta property="og:description" content="网络的最重要的一个作用就是实现文件的一个传输共享，本文将要介绍的是可以在Linux终端上使用的文件传输命令，利用这些工具可以在网络中方便的实现共享文件。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-06-13T02:11:52.000Z">
<meta property="article:modified_time" content="2021-09-25T15:36:23.370Z">
<meta property="article:author" content="bookandmusic">
<meta property="article:tag" content="FTP">
<meta property="article:tag" content="SCP">
<meta property="article:tag" content="STFP">
<meta property="article:tag" content="SSH">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://bookandmusic.cn/2021/06/13/i8cOKz0oW/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Linux网络传输命令 | Bookandmusic</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Bookandmusic</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">踮起脚尖，另一种高度</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bookandmusic.cn/2021/06/13/i8cOKz0oW/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="bookandmusic">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bookandmusic">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux网络传输命令
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-13 10:11:52" itemprop="dateCreated datePublished" datetime="2021-06-13T10:11:52+08:00">2021-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-09-25 23:36:23" itemprop="dateModified" datetime="2021-09-25T23:36:23+08:00">2021-09-25</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-users"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="firestore-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>网络的最重要的一个作用就是实现文件的一个传输共享，本文将要介绍的是可以在Linux终端上使用的文件传输命令，利用这些工具可以在网络中方便的实现共享文件。</p>
<span id="more"></span>

<h2 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h2><h3 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a><code>FTP</code></h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p><code>FTP</code>（File Transfer Protocol）: 是 TCP/IP 网络上两台计算机传送文件的协议，FTP 是在 TCP/IP 网络和 INTERNET 上最早使用的协议之一，它属于网络协议组的应用层。</p>
<p>FTP 客户机可以给服务器发出命令来下载文件，上载文件，创建或改变服务器上的目录。相比于 HTTP，FTP 协议要复杂得多。复杂的原因，是因为 FTP 协议要用到两个 TCP 连接：</p>
<ul>
<li>  一个是命令链路，用来在 FTP 客户端与服务器之间传递命令；</li>
<li>  另一个是数据链路，用来上传或下载数据。</li>
</ul>
<p>FTP 是基于 TCP 协议的，因此 iptables 防火墙设置中只需要放开指定端口（21 + <strong>PASV</strong> 端口范围）的 TCP 协议即可。</p>
<h4 id="工作模式"><a href="#工作模式" class="headerlink" title="工作模式"></a>工作模式</h4><p><strong>PORT</strong>（主动）方式的连接过程是：</p>
<ul>
<li>  客户端向服务器的 FTP 端口（默认是 21）发送连接请求，服务器接受连接，建立一条命令链路。</li>
<li>  当需要传送数据时，客户端在命令链路上用 PORT 命令告诉服务器：“我打开了一个 1024 + 的随机端口，你过来连接我”。</li>
<li>  于是服务器从 20 端口向客户端的 1024 + 随机端口发送连接请求，建立一条数据链路来传送数据。</li>
</ul>
<p><strong>PASV</strong>（Passive 被动）方式的连接过程是：</p>
<ul>
<li>  客户端向服务器的 FTP 端口（默认是 21）发送连接请求，服务器接受连接，建立一条命令链路。</li>
<li>  当需要传送数据时，服务器在命令链路上用 PASV 命令告诉客户端：“我打开了一个 1024 + 的随机端口，你过来连接我”。</li>
<li>  于是客户端向服务器的指定端口发送连接请求，建立一条数据链路来传送数据。</li>
</ul>
<p>PORT 方式，服务器会主动连接客户端的指定端口，那么如果客户端通过代理服务器链接到 internet 上的网络的话，服务器端可能会连接不到客户端本机指定的端口，或者被客户端、代理服务器防火墙阻塞了连接，导致连接失败</p>
<p>PASV 方式，服务器端防火墙除了要放开 21 端口外，还要放开 PASV 配置指定的端口范围</p>
<h3 id="SFTP"><a href="#SFTP" class="headerlink" title="SFTP"></a><code>SFTP</code></h3><p><code>SFTP</code>（Secure File Transfer Protocol）：安全文件传送协议。</p>
<p>可以为传输文件提供一种安全的加密方法。sftp 与 ftp 有着几乎一样的语法和功能。</p>
<p>SFTP 为 SSH 的一部份，是一种传输文件到服务器的安全方式。</p>
<p>在 SSH 软件包中，已经包含了一个叫作 SFTP的安全文件传输子系统，SFTP 本身没有单独的守护进程，它必须使用 sshd 守护进程（端口号默认是 22）来完成相应的连接操作，所以从某种意义上来说，SFTP 并不像一个服务器程序，而更像是一个客户端程序。</p>
<p>SFTP 同样是使用加密传输认证信息和传输的数据，所以，使用 SFTP 是非常安全的。</p>
<p>但是，由于这种传输方式使用了加密 / 解密技术，所以传输效率比普通的 FTP 要低得多，如果您对网络安全性要求更高时，可以使用 SFTP 代替 FTP。</p>
<h3 id="SCP"><a href="#SCP" class="headerlink" title="SCP"></a><code>SCP</code></h3><p><code>SCP</code>（Secure Copy）：scp 就是 <code>secure copy</code>，是用来进行远程文件复制的，并且整个复制过程是加密的。数据传输使用 ssh，并且和使用和 ssh 相同的认证方式，提供相同的安全保证。</p>
<p><strong>FTP &amp; SCP/SFTP</strong> 比较：</p>
<ul>
<li><p>   sftp/scp 传输协议是采用加密方式来传输数据的。</p>
</li>
<li><p>   ftp 一般来说允许明文传输，当然现在也有带 SSL 的加密 ftp，有些服务器软件也可以设置成 “只允许加密连接”，但是毕竟不是默认设置需要我们手工调整，而且很多用户都会忽略这个设置。</p>
</li>
<li><p>  普通 ftp 仅使用端口 21 作为命令传输，由服务器和客户端协商另外一个随机端口来进行数据传送。在 pasv 模式下，服务器端需要侦听另一个端口。假如服务器在路由器或者防火墙后面，端口映射会比较麻烦，因为无法提前知道数据端口编号，无法映射。</p>
</li>
<li><p>  当你的网络中还有一些 unix 系统的机器时，在它们上面自带了 scp/sftp 等客户端，不用再安装其它软件来实现传输目的。</p>
</li>
<li><p>  scp/sftp 属于开源协议，我们可以免费使用不像 FTP 那样使用上存在安全或版权问题。</p>
</li>
<li><p>  所有 scp/sftp 传输软件（服务器端和客户端）均免费并开源，方便我们开发各种扩展插件和应用组件。</p>
</li>
</ul>
<blockquote>
<p>  <strong>小提示：</strong>当然在提供安全传输的前提下 sftp 还是存在一些不足的，例如: 他的帐号访问权限是严格遵照系统用户实现的，只有将该帐户添加为操作系统某用户才能够保证其可以正常登录 sftp 服务器</p>
</blockquote>
<h3 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a><code>SSH</code></h3><p><code>SSH</code>（Secure Shell）：由 IETF 的网络工作小组（Network Working Group）所制定；SSH 为建立在应用层和传输层基础上的安全协议。</p>
<p>SSH 是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。</p>
<p>SSH 是由客户端和服务端的软件组成的：</p>
<ul>
<li><p>服务端是一个守护进程 (daemon)，他在后台运行并响应来自客户端的连接请求。</p>
<p>  服务端一般是 sshd 进程，提供了对远程连接的处理，一般包括公共密钥认证、密钥交换、对称密钥加密和非安全连接； </p>
</li>
<li><p>客户端包含 ssh 程序以及像 scp（远程拷贝）、slogin（远程登陆）、sftp（安全文件传输）等其他的应用程序。从客户端来看，SSH 提供两种级别的安全验证：</p>
<ul>
<li>  第一种级别（基于口令的安全验证）</li>
<li>   第二种级别（基于密匙的安全验证）</li>
</ul>
</li>
</ul>
<p>SSH 主要有三部分组成： 传输层协议 [<code>SSH-TRANS</code>] ；用户认证协议 [<code>SSH-USERAUTH</code>] ；连接协议 [<code>SSH-CONNECT</code>]。</p>
<h3 id="OpenSSH"><a href="#OpenSSH" class="headerlink" title="OpenSSH"></a><code>OpenSSH</code></h3><p><code>OpenSSH</code>: 是 SSH（Secure SHell）协议的免费开源实现。</p>
<p>SSH 协议族可以用来进行远程控制，或在计算机之间传送文件。</p>
<p>而实现此功能的传统方式，如 telnet(终端仿真协议)、 rcp ftp、 rlogin、rsh 都是极为不安全的，并且会使用明文传送密码。</p>
<p>OpenSSH 提供了服务端后台程序和客户端工具，用来加密远程控件和文件传输过程的中的数据，并由此来代替原来的类似服务。 </p>
<p>OpenSSH 是使用 SSH 透过计算机网络加密通讯的实现。它是取代由 <code>SSH Communications Security</code> 所提供的商用版本的开放源代码方案。</p>
<p>目前 OpenSSH 是 OpenBSD 的子计划。OpenSSH 常常被误认以为与 OpenSSL 有关联，但实际上这两个计划的有不同的目的，不同的发展团队，名称相近只是因为两者有同样的软件发展目标──提供开放源代码的加密通讯软件。</p>
<h2 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h2><h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a><code>ssh</code></h3><h4 id="安装ssh-server"><a href="#安装ssh-server" class="headerlink" title="安装ssh-server"></a>安装ssh-server</h4><blockquote>
<p>  此处环境以 <code>Ubuntu18.04</code>为例</p>
</blockquote>
<ul>
<li>  修改镜像源为中科大镜像</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/archive.ubuntu.com/mirrors.ustc.edu.cn/g&#x27;</span> /etc/apt/sources.<span class="built_in">list</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  升级镜像源</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></table></figure>

<ul>
<li>  安装 <code>openssh-server</code>、 <code>vim</code></li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install openssh-server vim -y</span><br></pre></td></tr></table></figure>

<h4 id="设置密码"><a href="#设置密码" class="headerlink" title="设置密码"></a>设置密码</h4><p>由于<code>SSH</code>使用的就是账号的登录密码，所以不存在单独的<code>SSH</code>密码。如果你需要修改<code>SSH</code>远程登录密码，需要修改这台服务器的账号的登录密码。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ passwd</span><br><span class="line">Enter new UNIX password:  <span class="comment"># 输入新密码</span></span><br><span class="line">Retype new UNIX password:  <span class="comment"># 输入确认密码</span></span><br><span class="line">passwd: password updated successfully  <span class="comment"># 密码设置成功</span></span><br></pre></td></tr></table></figure>

<h4 id="修改配置项"><a href="#修改配置项" class="headerlink" title="修改配置项"></a>修改配置项</h4><ul>
<li>  打开<code>ssh</code>客户端配置文件<code>/etc/ssh/ssh_config</code>，修改 <code>ssh</code> 客户端配置</li>
</ul>
<blockquote>
<p>  去掉<code>PasswordAuthentication yes</code>前面的<code>#</code>号，保存退出</p>
</blockquote>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Host *</span><br><span class="line"><span class="comment">#   ForwardAgent no</span></span><br><span class="line"><span class="comment">#   ForwardX11 no</span></span><br><span class="line"><span class="comment">#   ForwardX11Trusted yes</span></span><br><span class="line">PasswordAuthentication yes  <span class="comment"># 允许客户端使用密码登录</span></span><br><span class="line"><span class="comment">#   HostbasedAuthentication no</span></span><br><span class="line"><span class="comment">#   GSSAPIAuthentication no</span></span><br><span class="line"><span class="comment">#   GSSAPIDelegateCredentials no</span></span><br><span class="line"><span class="comment">#   GSSAPIKeyExchange no</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  打开<code>ssh</code>服务器配置文件<code>/etc/ssh/sshd_config</code>，修改 <code>ssh</code> 服务器配置</li>
</ul>
<blockquote>
<p>  把<code>PermitRootLogin prohibit-password</code>改成<code>PermitRootLogin yes</code>，保存退出</p>
</blockquote>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#LoginGraceTime 2m</span></span><br><span class="line"><span class="comment">#PermitRootLogin prohibit-password</span></span><br><span class="line">PermitRootLogin yes <span class="comment"># 允许以root用户登录</span></span><br><span class="line"><span class="comment">#StrictModes yes</span></span><br><span class="line"><span class="comment">#MaxAuthTries 6</span></span><br><span class="line"><span class="comment">#MaxSessions 10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>  去掉<code>PubkeyAuthentication yes</code>前面的<code>#</code>号; 去掉<code>AuthorizedKeysFile </code>前面的<code>#</code>号，保存退出</p>
</blockquote>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PubkeyAuthentication yes  <span class="comment"># 打开该配置，允许使用密钥验证</span></span><br><span class="line">AuthorizedKeysFile   .ssh/authorized_keys <span class="comment"># 指明公钥位置，多个公钥，可以在文件末尾追加</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  重启ssh服务</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/ssh start</span><br></pre></td></tr></table></figure>

<ul>
<li>  查看服务是否开启</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -e | grep ssh</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  在vi的命令模式下 <code>/关键词</code>即可实现搜索效果</p>
</blockquote>
<h4 id="密码登录"><a href="#密码登录" class="headerlink" title="密码登录"></a>密码登录</h4><blockquote>
<p>  在上一步中，服务器端已经配置过<code>ssh</code>服务端，现在就可以在本地电脑上，使用 <code>ssh</code>客户端链接远程的服务器</p>
</blockquote>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@192.168.1.9   -p 2222  <span class="comment"># ssh服务的端口号默认是22，如果不是，就需要使用 -p 指明</span></span><br></pre></td></tr></table></figure>

<p>命令执行完成后，会提示输入密码，注意： <code>密码是远程服务器的密码，也就是上一步最后设置的密码</code></p>
<h4 id="密钥登录"><a href="#密钥登录" class="headerlink" title="密钥登录"></a>密钥登录</h4><blockquote>
<p>  此时每次链接远程服务都需要输入密码，比较麻烦；可以通过公钥验证身份</p>
</blockquote>
<h5 id="制作密钥对"><a href="#制作密钥对" class="headerlink" title="制作密钥对"></a>制作密钥对</h5><p>首先在客户端执行如下命令, 制作密钥对。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@host ~]$ ssh-keygen <span class="comment"># &lt;== 建立密钥对</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/root/.ssh/id_rsa): <span class="comment"># &lt;== 按 Enter</span></span><br><span class="line">Created directory <span class="string">&#x27;/root/.ssh&#x27;</span>.</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): <span class="comment"># &lt;== 输入密钥锁码，或直接按 Enter 留空</span></span><br><span class="line">Enter same passphrase again:  <span class="comment"># &lt;== 再输入一遍密钥锁码</span></span><br><span class="line"></span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa. <span class="comment"># &lt;== 私钥</span></span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub. <span class="comment"># &lt;== 公钥</span></span><br><span class="line"></span><br><span class="line">The key fingerprint is:</span><br><span class="line">0f:d3:e7:1a:1c:bd:5c:03:f1:19:f1:22:df:9b:cc:08 root@host</span><br><span class="line"></span><br><span class="line"><span class="comment"># 密钥锁码在使用私钥时必须输入，这样就可以保护私钥不被盗用。当然，也可以留空，实现无密码登录。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 现在，在 root 用户的家目录中生成了一个 .ssh 的隐藏目录，内含两个密钥文件。id_rsa 为私钥，id_rsa.pub 为公钥。</span></span><br></pre></td></tr></table></figure>

<h5 id="上传公钥到服务器"><a href="#上传公钥到服务器" class="headerlink" title="上传公钥到服务器"></a>上传公钥到服务器</h5><h6 id="方法一-推荐"><a href="#方法一-推荐" class="headerlink" title="方法一(推荐)"></a>方法一(推荐)</h6><p>直接将公钥内容添加到服务器的 授权密钥文件<code>~/.ssh/authorized_keys</code>中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-copy-id  -p 22 -i ~/.ssh/id_rsa.pub root@192.168.1.9</span><br></pre></td></tr></table></figure>

<p>执行命令了会要求输入远程机器的密码，输入密码即可。</p>
<p>注：<code>ssh-copy-id</code>默认端口是22，如果您的SSH端口不是22，也就是远程服务器端口修改成其他的了，那就要得加上 <code>-p</code> +端口。</p>
<h6 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h6><p>先在客户端使用<code>scp</code>命令将公钥文件上传至服务器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp ~/.ssh/id_rsa.pub root@192.168.1.9:~/.ssh/</span><br></pre></td></tr></table></figure>

<p>使用密码登录服务器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -p 22  root@192.168.1.9  </span><br></pre></td></tr></table></figure>

<p>在服务器将公钥文件添加到授权密钥文件<code>~/.ssh/authorized_keys</code>中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>

<h5 id="登录服务器"><a href="#登录服务器" class="headerlink" title="登录服务器"></a>登录服务器</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@192.168.1.9</span><br></pre></td></tr></table></figure>

<h3 id="scp"><a href="#scp" class="headerlink" title="scp"></a><code>scp</code></h3><blockquote>
<p>  本地文件复制到远程服务器, <strong>当远程ssh服务的端口不是22，通过 <code>-P</code> 指明</strong></p>
</blockquote>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># scp -P 端口 本地文件地址  用户名@远程服务器地址:/文件路径</span></span><br><span class="line"><span class="comment"># 注意：远程服务器的文件路径必须存在</span></span><br><span class="line">scp -P 2222 ~/.ssh/id_rsa.pub root@127.0.0.1:/root/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>

<p>将本地公钥 复制到远程服务器上， 此时在复制时，还需要 输入root用户的密码</p>
<p>复制成功，之后的所有操作 就可以通过密钥实现验证，不需要再输入密码</p>
<blockquote>
<p>  将远程服务器文件复制到本地</p>
</blockquote>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># scp -P 端口 用户名@远程服务器地址:/文件路径 本地路径 </span></span><br><span class="line">scp -P 2222 root@127.0.0.1:/root/.ssh/authorized_keys  ~/Documents</span><br></pre></td></tr></table></figure>

<h3 id="sftp"><a href="#sftp" class="headerlink" title="sftp"></a><code>sftp</code></h3><p>链接远程服务器</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sftp user@ip, 当远程ssh服务的端口不是22，通过 -P 指明</span></span><br><span class="line">sftp -P 2222 root@127.0.0.1 </span><br></pre></td></tr></table></figure>

<p>执行命令，进入交互环境</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sftp&gt; </span><br></pre></td></tr></table></figure>

<p>以下命令都是在交互环境下执行</p>
<ul>
<li>  查看帮助信息</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sftp&gt; <span class="built_in">help</span>  <span class="comment"># 执行help, 可以看看sftp支持哪些命令。</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  查看路径</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sftp&gt; <span class="built_in">pwd</span>  <span class="comment"># 查看远程服务器的当前路径</span></span><br><span class="line">Remote working directory: /root</span><br><span class="line"></span><br><span class="line">sftp&gt; lpwd  <span class="comment"># 查看本地的当前路径</span></span><br><span class="line">Local working directory: /Users/lsf/Documents</span><br></pre></td></tr></table></figure>

<ul>
<li>  查看目录下的文件信息</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sftp&gt; ls  <span class="comment"># 查看远程服务器当前目录下的文件列表</span></span><br><span class="line">authorized_keys  id_rsa.pub</span><br><span class="line">sftp&gt; lls  <span class="comment"># 查看本地电脑当前目录下的文件列表</span></span><br><span class="line"><span class="variable">$RECYCLE</span>.BIN	GitNote 	gitbook		hexo</span><br></pre></td></tr></table></figure>

<ul>
<li>  下载文件</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载远程服务器的文件 到本地</span></span><br><span class="line">sftp&gt; get id_rsa.pub /Users/lsf/Documents</span><br><span class="line">Fetching /root/.ssh/id_rsa.pub to /Users/lsf/Documents/id_rsa.pub</span><br><span class="line">/root/.ssh/id_rsa.pub                                                                                        100%  575   213.3KB/s   00:00</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载远程服务器的 .ssh 文件夹 到 本地目录， 需要参数 -r</span></span><br><span class="line">sftp&gt; get -r  .ssh/ /Users/lsf/Documents  </span><br><span class="line">Fetching /root/.ssh/ to /Users/lsf/Documents/.ssh</span><br><span class="line">Retrieving /root/.ssh</span><br><span class="line">/root/.ssh/authorized_keys                                                                                   100%  575   262.3KB/s   00:00</span><br><span class="line">/root/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>

<ul>
<li>  上传文件</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 上传 本地文件到 远程服务器的当前目录</span></span><br><span class="line">sftp&gt; put random.html .</span><br><span class="line">Uploading random.html to /root/.ssh/./random.html</span><br><span class="line">random.html</span><br><span class="line"></span><br><span class="line"><span class="comment"># 上传 本地文件夹到 远程服务器的当前目录，需要参数 -r </span></span><br><span class="line">sftp&gt; put -r GitNote  .</span><br><span class="line">Uploading GitNote/ to /root/.ssh/./GitNote</span><br><span class="line">Entering GitNote/</span><br><span class="line">Entering GitNote/Note</span><br><span class="line">GitNote/Note/Shadowsocks配置.md                                                                            100% 1107     1.0MB/s   00:00</span><br><span class="line">GitNote/Note/Docker镜像配置.md                                                                           100%   84    66.4KB/s   00:00</span><br></pre></td></tr></table></figure>

<ul>
<li>  <code>command</code>, 此时命令都是在 远程服务器执行</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sftp&gt; rm id_rsa.pub</span><br><span class="line">Removing /root/.ssh/id_rsa.pub</span><br><span class="line">sftp&gt; mkdir upload</span><br><span class="line">sftp&gt; ls</span><br><span class="line">GitNote          authorized_keys  random.html      upload</span><br></pre></td></tr></table></figure>

<ul>
<li>  <code>!command</code>,  此时命令是在本地电脑上执行</li>
</ul>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sftp&gt; !ls</span><br><span class="line"><span class="variable">$RECYCLE</span>.BIN	GitNote		authorized_keys	desktop.ini	gitbook</span><br><span class="line">sftp&gt; !rm authorized_keys</span><br><span class="line">sftp&gt; !ls</span><br><span class="line"><span class="variable">$RECYCLE</span>.BIN	GitNote		desktop.ini	gitbook</span><br><span class="line">sftp&gt; lls</span><br><span class="line"><span class="variable">$RECYCLE</span>.BIN	GitNote		desktop.ini	gitbook</span><br></pre></td></tr></table></figure>

<ul>
<li>  退出命令： <code>exit</code>、<code>bye</code>、<code>quit</code></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/FTP/" rel="tag"># FTP</a>
              <a href="/tags/SCP/" rel="tag"># SCP</a>
              <a href="/tags/STFP/" rel="tag"># STFP</a>
              <a href="/tags/SSH/" rel="tag"># SSH</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/06/12/BFXx59yyC/" rel="prev" title="版本控制工具Git">
      <i class="fa fa-chevron-left"></i> 版本控制工具Git
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/06/16/35nW9iWbx/" rel="next" title="MongoDB基础教程">
      MongoDB基础教程 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="nav-number">1.</span> <span class="nav-text">名词解释</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP"><span class="nav-number">1.1.</span> <span class="nav-text">FTP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.1.</span> <span class="nav-text">介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.1.2.</span> <span class="nav-text">工作模式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SFTP"><span class="nav-number">1.2.</span> <span class="nav-text">SFTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SCP"><span class="nav-number">1.3.</span> <span class="nav-text">SCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SSH"><span class="nav-number">1.4.</span> <span class="nav-text">SSH</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenSSH"><span class="nav-number">1.5.</span> <span class="nav-text">OpenSSH</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="nav-number">2.</span> <span class="nav-text">操作命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ssh"><span class="nav-number">2.1.</span> <span class="nav-text">ssh</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85ssh-server"><span class="nav-number">2.1.1.</span> <span class="nav-text">安装ssh-server</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="nav-number">2.1.2.</span> <span class="nav-text">设置密码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">2.1.3.</span> <span class="nav-text">修改配置项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95"><span class="nav-number">2.1.4.</span> <span class="nav-text">密码登录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95"><span class="nav-number">2.1.5.</span> <span class="nav-text">密钥登录</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%B6%E4%BD%9C%E5%AF%86%E9%92%A5%E5%AF%B9"><span class="nav-number">2.1.5.1.</span> <span class="nav-text">制作密钥对</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0%E5%85%AC%E9%92%A5%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">2.1.5.2.</span> <span class="nav-text">上传公钥到服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-%E6%8E%A8%E8%8D%90"><span class="nav-number">2.1.5.2.1.</span> <span class="nav-text">方法一(推荐)</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="nav-number">2.1.5.2.2.</span> <span class="nav-text">方法二</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">2.1.5.3.</span> <span class="nav-text">登录服务器</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scp"><span class="nav-number">2.2.</span> <span class="nav-text">scp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sftp"><span class="nav-number">2.3.</span> <span class="nav-text">sftp</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">bookandmusic</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">95</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备2021028097号 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">bookandmusic</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>




  <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-firestore.js"></script>
  <script>
    firebase.initializeApp({
      apiKey   : '',
      projectId: ''
    });

    function getCount(doc, increaseCount) {
      // IncreaseCount will be false when not in article page
      return doc.get().then(d => {
        var count = 0;
        if (!d.exists) { // Has no data, initialize count
          if (increaseCount) {
            doc.set({
              count: 1
            });
            count = 1;
          }
        } else { // Has data
          count = d.data().count;
          if (increaseCount) {
            // If first view this article
            doc.set({ // Increase count
              count: count + 1
            });
            count++;
          }
        }

        return count;
      });
    }

    function appendCountTo(el) {
      return count => {
        el.innerText = count;
      }
    }
  </script>
  <script>
    (function() {
      var db = firebase.firestore();
      var articles = db.collection('articles');

      if (CONFIG.page.isPost) { // Is article page
        var title = document.querySelector('.post-title').innerText.trim();
        var doc = articles.doc(title);
        var increaseCount = CONFIG.hostname === location.hostname;
        if (localStorage.getItem(title)) {
          increaseCount = false;
        } else {
          // Mark as visited
          localStorage.setItem(title, true);
        }
        getCount(doc, increaseCount).then(appendCountTo(document.querySelector('.firestore-visitors-count')));
      } else if (CONFIG.page.isHome) { // Is index page
        var promises = [...document.querySelectorAll('.post-title')].map(element => {
          var title = element.innerText.trim();
          var doc = articles.doc(title);
          return getCount(doc);
        });
        Promise.all(promises).then(counts => {
          var metas = document.querySelectorAll('.firestore-visitors-count');
          counts.forEach((val, idx) => {
            appendCountTo(metas[idx])(val);
          });
        });
      }
    })();
  </script>




      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
